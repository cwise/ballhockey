<%= content_for :javascript_includes do %>
  <script type="text/javascript">
  $(function() {
    $('#game_player_email_address').autocomplete({
      source: '/players/search',
      select: function(event, ui) {
        $(this).val(ui.item.value);
        $('#game_player_player_id').val(ui.item.id);
        return false;
      }
    });
  });
  </script>
<% end %>

<%= simple_form_for @game_player, :url => update_player_status_game_path do |f| %>
  <%= error_messages_for :game_player %>  
  <%= f.hidden_field :game_id %>
  <%= f.input :email_address %>
  <span>
    <%= f.hidden_field :current_state %>
    <%= render :partial => 'game_player', :locals => { :game_player => @game_player } %>
  </span>
  <%= f.hidden_field :player_id %>
  <hr />
  <%= f.submit 'Update Status' %>
<% end %>